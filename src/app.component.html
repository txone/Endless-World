<div class="w-screen h-screen flex flex-col md:flex-row bg-[#050505] text-white overflow-hidden">
  
  <!-- Left Side: Game View -->
  <div class="relative flex-1 h-full bg-black">
      <app-game-board></app-game-board>
      
      <!-- Log Overlay (Floating on Game) -->
      <div class="absolute bottom-4 left-4 w-96 max-w-[90%] max-h-48 overflow-y-auto pointer-events-none fade-mask">
         <div class="flex flex-col-reverse justify-end min-h-full">
            @for (log of game.logs(); track log.timestamp) {
               <div class="mb-1 text-[10px] md:text-xs font-mono drop-shadow-md"
                    [class.text-blue-300]="log.type === 'info'"
                    [class.text-red-400]="log.type === 'combat'"
                    [class.text-yellow-400]="log.type === 'loot'"
                    [class.text-green-400]="log.type === 'level'">
                   <span class="opacity-50">[{{ log.timestamp | date:'mm:ss' }}]</span> {{ log.message }}
               </div>
            }
         </div>
      </div>

      <!-- Mobile Toggle -->
      <div class="md:hidden absolute top-4 right-4 z-50">
          <button (click)="toggleTab('inv')" class="bg-gray-800 p-2 rounded border border-gray-600">ðŸŽ’</button>
      </div>
  </div>

  <!-- Right Side: Inventory (Collapsible on Mobile) -->
  <div class="w-full md:w-80 h-full bg-[#1a1a1a] z-40 transition-transform duration-300 absolute md:relative right-0 top-0"
       [class.translate-x-full]="activeTab() === 'game'"
       [class.md:translate-x-0]="true">
      
      <div class="h-full relative">
           <!-- Mobile Close -->
           <button class="md:hidden absolute top-2 left-2 text-white bg-red-800 px-2 rounded z-50" (click)="toggleTab('game')">âœ•</button>
           <app-inventory></app-inventory>
      </div>
  </div>

</div>

<style>
.fade-mask {
    mask-image: linear-gradient(to bottom, transparent, black 20%);
    -webkit-mask-image: linear-gradient(to bottom, transparent, black 20%);
}
</style>